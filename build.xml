<?xml version="1.0" encoding="UTF-8"?>
<project basedir="." default="compile">
  <presetdef name="javac">
    <javac includeantruntime="false" />
  </presetdef>
  <property name="build.dir" value="bin" />
  <property name="src.dir" value="src" />
  <property name="lib.dir" value="lib" />
  
  <path id="classpath">
    <fileset dir="${lib.dir}">
      <include name="*"/>
    </fileset>
  </path>
  
  <target description="Creates temporary directories" name="init">
    <mkdir dir="${build.dir}/classes" />
  </target>
  <target depends="init" description="Removes temporary directories" name="clean">
    <delete dir="${build.dir}" />
  </target>
  <target name="compile" depends="init">
    <javac destdir="${build.dir}/classes" srcdir="${src.dir}" debug="true" verbose="true">
      <classpath refid="classpath"/>
    </javac>
  </target>
  <target depends="compile" description="Build the jar files" name="jar">
    <mkdir dir="${build.dir}/jar"/>
    <jar destfile="${build.dir}/jar/TempEval3Dev.jar" basedir="${build.dir}/classes">
      <manifest>
        <attribute name="Main-Class" value="edu.uw.cs.lil.tiny.tempeval.TempEval3Dev"/>
      </manifest>
    </jar>
  </target>
  <target depends="jar" description="Run the evaluation" name="eval">
    <java jar="${build.dir}/jar/TempEval3Dev.jar" fork="true"/>
  </target>
</project>
